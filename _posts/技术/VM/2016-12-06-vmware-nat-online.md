---
layout: post
title: 配置vmware中的虚拟机使用宿主机的共享网络
category: 技术
tags: VM
keywords: 
description:  
---

{:toc}

## VM共享宿主机网络

预置环境：
	
- 宿主机：win7 64位 企业版
- 虚拟机软件：VMware® Workstation 11.1.2 build-2780323
- 虚拟机系统：centos 6.5 64位

### 设置虚拟机的ip


**为了SSH连接Linux虚拟机方便，建议将虚拟机的ip设置为静态ip。**

推荐使用linux桌面配置ip，假设配置好的ip信息为:

```bash
ip:192.168.2.201
mask:255.255.255.0
#宿主机的NAT8的ip
gateway:192.168.2.1 
```


### 修改VM配置

```
vmware主界面 - 编辑 - 虚拟网络编辑器 - 选择VMnet8（不存在则点添加网络并选择VMnet8） - NAT模式（）-  NAT设置（右位置→）-
网关ip（设置为：192.168.2.1）- 点击DNS设置（左下↙） - 首选DNS服务器（设置为：192.168.2.1，即宿主机的net8的ip,与网关相同）-
确定 - 确定- 子网IP（左下↙，设置为：192.168.2.0）- 子网掩码（设置为：255.255.255.0） - 应用 -确定
```

以上步骤就完成了对VMnat网络的设置，

### 修改虚拟机的网络设置

vmware主界面 - 我的计算机 - 选择虚拟机(右键点设置) - 网络适配器 - NAT模式(右侧→) - 确定

### 更改宿主机的本地连接设置

```
开始按钮 - 控制面板 - 网络和Internet - 网络和共享中心 - 更改适配器设置 - 本地连接(有线网，右击属性) -
共享 - 允许其他网络用户通过此计算机的Internet连接来连接（√）-家庭网络连接（选择带有Net8的选项） - 确定 -此时本地连接处显示有“共享的”字样
```


### 更改宿主机的NAT8虚拟网卡设置

```
开始按钮 - 控制面板 - 网络和Internet - 网络和共享中心 - 更改适配器设置 - 确定VMware Network Adapter VMnet8为已启用并右击 -
属性 - Internet 协议版本 4 （TCP/Ipv4） - 属性 - 点击使用下面的网址： 输入ip地址：`192.168.2.1`,子网掩码：`255.255.255.0` - 
使用下面的DNS服务器地址：首选DNS服务器:`192.168.2.1`(宿主机的net8地址，与网关相同)
```



测试下，应该就可以让虚拟机使用宿主机的网络联网了。


